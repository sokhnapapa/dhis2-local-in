
<script>
	
jQuery(document).ready(function() {
    validation2('updateInventoryTypeForm', function(form) {
        form.submit();
    }, {
        'beforeValidateHandler' : function() {
            selectAllById('selectedList');
        },
    });

	checkValueIsExist("name", "validateInventoryType.action", {
            id : $organisationUnitGroupSet.id
        });

});
	
</script>
<h3>$i18n.getString( "edit_inventorytype" )</h3>
<form id="updateInventoryTypeForm" action="updateInventoryType.action" method="post" >

<input type="hidden" id="id" name="id" value="$inventoryType.id"/>

<table id="attrTable"> 
    <thead>
        <tr><th colspan="2">$i18n.getString( "inventorytype_details" )</th></tr>
    </thead>
    
    <tbody>
    <tr>
        <td><label>$i18n.getString( "name" ) <em title="$i18n.getString( 'required' )" class="required">*</em></label></td>
        <td><input type="text" id="name" name="name"  value="$encoder.htmlEncode( $inventoryType.name )" class="{validate:{required:true,rangelength:[2,160]}}"/></td>
        <td></td>
    </tr>   
    
    <tr>
        <td><label>$i18n.getString( "description" ) <em title="$i18n.getString( 'required' )" class="required">*</em></label></td>
        <td><input type="text" id="description" name="description" value="$encoder.htmlEncode( $inventoryType.description )" class="{validate:{required:true,minlength:2}}"/></td>
        <td></td>
    </tr>
    
    <tr>
        <td><label for="tracking">$i18n.getString( "tracking" )<em title="$i18n.getString( 'required' )" class="required">*</em></label></td>
        <td>
            <select id="tracking" name="tracking">
                <option value="true" #if( $inventoryType.tracking ) selected="selected" #end>$i18n.getString( "yes" )</option>
                <option value="false" #if( !$inventoryType.tracking ) selected="selected" #end>$i18n.getString( "no" )</option>
            </select>
        </td>       
        <td></td>               
    </tr>
            
    <tr>
        <td><label for="valueType">$i18n.getString( "catalog_type" ) <em title="$i18n.getString( 'required' )" class="required">*</em></label></td>
        <td>
            <select id="catalogType" name="catalogType">
				#foreach( $catalogType in $catalogTypes )
					<option value="$catalogType.id" #if( $inventoryType.catalogType.id ) selected="selected" #end>$catalogType.name</option>
				#end
            </select>
        </td>
        <td></td>
    </tr>  
    
    </tbody>
	</table>

    <br/>&nbsp;

  <table id="dataElementSelectionArea">
    <col style="width: 450px"/>
    <col/>
    <col style="width: 450px"/>
    <thead>
      <tr>
        <th>$i18n.getString( "available_attributes" )</th>
        <th>$i18n.getString( "filter" )</th>
        <th>$i18n.getString( "selected_attributes" )</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>
          <select id="availableList" name="availableList" multiple="multiple" style="height: 200px; width: 100%; margin-top: 45px;" ondblclick="moveSelectedById( 'availableList', 'selectedList' )">
			#foreach( $inventoryTypeAttribute in $availInventoryTypeAttributes )
				<option value="$inventoryTypeAttribute.id">$inventoryTypeAttribute.name</option>
			#end			
          </select>
        </td>
        <td>
            <input type="button" value="&gt;" title="$i18n.getString( 'move_selected' )" style="width:50px" onClick="moveSelectedById( 'availableList', 'selectedList' )"/><br/>
            <input type="button" value="&lt;" title="$i18n.getString( 'remove_selected' )" style="width:50px" onClick="moveSelectedById( 'selectedList', 'availableList' )"/><br/>
        </td>           
        <td>
            <select id="selectedList" name="selectedList" multiple="multiple" style="height: 200px; width: 100%; margin-top: 45px;" ondblclick="moveSelectedById( 'selectedList', 'availableList' )">
            #foreach( $inventoryTypeAttribute1 in $selInventoryTypeAttributes )
                <option value="$inventoryTypeAttribute1.id">$inventoryTypeAttribute1.name</option>
            #end            
            </select>
        </td>
      </tr>
	  
	  <tr>
        <td colspan="3">
            <input type="submit" value="$i18n.getString( 'add' )" />
            <input type="button" value="$i18n.getString( 'cancel' )" onclick="window.location.href='inventoryTypeList.action'" />
        </td>
    </tr>
    </tbody>
  </table>

    

<span id='message'></span>

</form>   

<script type="text/javascript">
    var i18n_remove_option = '$encoder.jsEscape( $i18n.getString( "remove_option" ) , "'") ';
    var i18n_field_is_required = '$encoder.jsEscape( $i18n.getString( "field_is_required" ) , "'") ';
    var isSubmit = true;
</script>
