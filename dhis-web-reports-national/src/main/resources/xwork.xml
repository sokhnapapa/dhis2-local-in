<!DOCTYPE xwork PUBLIC "-//OpenSymphony Group//XWork 1.0//EN"
 "http://www.opensymphony.com/xwork/xwork-1.0.dtd">
<xwork>
  <!-- use the DHIS web portal default -->
  <include file="dhis-web-commons.xml"/>

  <package name="dhis-web-reports" extends="dhis-web-commons" namespace="/dhis-web-reports">

    <action name="index" class="org.hisp.dhis.reports.action.ReportsHomePageAction">
		<result name="success" type="velocity">/main.vm</result>
		<param name="page">/dhis-web-reports/welcome.vm</param>
		<param name="menu">/dhis-web-reports/menu.vm</param>
	</action>
	
	<!-- Routine Reports -->
	<action name="routineReportAnalyser"
			class="org.hisp.dhis.reports.routine.action.GenerateRoutineReportAnalyserFormAction">
			<result name="success" type="velocity">/main.vm</result>
			<param name="page">/dhis-web-reports/routineReportAnalysisFront.vm</param>			
			<param name="menu">/dhis-web-reports/menuWithTree.vm</param>
			<param name="javascripts">../dhis-web-commons/ouwt/ouwt.js,../dhis-web-commons/lists/lists.js,javascript/reports.js,javascript/hashtable.js</param>
			<param name="stylesheets">css/StylesForTags.css</param>
		    <interceptor-ref name="organisationUnitTreeStack"/>
	</action>
	
	<action name="generateReport"
		class="org.hisp.dhis.reports.routine.action.GenerateRoutineReportAnalyserResultAction">
        <result name="success" type="stream">
            <param name="contentType">application/vnd.ms-excel</param>
            <param name="inputName">inputStream</param>
            <param name="contentDisposition">filename="${fileName}"</param>
            <param name="bufferSize">1024</param>
        </result>
	</action>

	<!-- Feedback Reports -->
	<action name="feedbackReportAnalyser"
			class="org.hisp.dhis.reports.feedback.action.GenerateFeedbackReportAnalyserFormAction">
			<result name="success" type="velocity">/main.vm</result>
			<param name="page">/dhis-web-reports/feedbackReportAnalysisFront.vm</param>			
			<param name="menu">/dhis-web-reports/menuWithTree.vm</param>
			<param name="javascripts">../dhis-web-commons/ouwt/ouwt.js,../dhis-web-commons/lists/lists.js,javascript/reports.js,javascript/hashtable.js</param>
			<param name="stylesheets">css/StylesForTags.css</param>
		    <interceptor-ref name="organisationUnitTreeStack"/>
	</action>
	
	<action name="generateFeebackReport"
		class="org.hisp.dhis.reports.feedback.action.GenerateFeedbackReportAnalyserResultAction">
        <result name="success" type="stream">
            <param name="contentType">application/vnd.ms-excel</param>
            <param name="inputName">inputStream</param>
            <param name="contentDisposition">filename="${fileName}"</param>
            <param name="bufferSize">1024</param>
        </result>
	</action>
	  
	  	<!-- Upward Reports -->
	<action name="upwardReportAnalyser"
			class="org.hisp.dhis.reports.upward.action.GenerateUpwardReportAnalyserFormAction">
			<result name="success" type="velocity">/main.vm</result>
			<param name="page">/dhis-web-reports/upwardReportAnalysisFront.vm</param>			
			<param name="menu">/dhis-web-reports/menuWithTree.vm</param>
			<param name="javascripts">../dhis-web-commons/ouwt/ouwt.js,../dhis-web-commons/lists/lists.js,javascript/reports.js,javascript/hashtable.js</param>
			<param name="stylesheets">css/StylesForTags.css</param>
		    <interceptor-ref name="organisationUnitTreeStack"/>
	</action>
	
	<action name="generateUpwardReport"
		class="org.hisp.dhis.reports.upward.action.GenerateUpwardReportAnalyserResultAction">
        <result name="success" type="stream">
            <param name="contentType">application/vnd.ms-excel</param>
            <param name="inputName">inputStream</param>
            <param name="contentDisposition">filename="${fileName}"</param>
            <param name="bufferSize">1024</param>
        </result>
	</action>
		    

	  	<!-- Linelisting Reports -->
	<action name="linelistingReportAnalyser"
			class="org.hisp.dhis.reports.linelisting.action.GenerateLinelistingReportAnalyserFormAction">
			<result name="success" type="velocity">/main.vm</result>
			<param name="page">/dhis-web-reports/linelstingReportAnalyserFront.vm</param>			
			<param name="menu">/dhis-web-reports/menuWithTree.vm</param>
			<param name="javascripts">../dhis-web-commons/ouwt/ouwt.js,../dhis-web-commons/lists/lists.js,javascript/reports.js,javascript/hashtable.js</param>
			<param name="stylesheets">css/StylesForTags.css</param>
		    <interceptor-ref name="organisationUnitTreeStack"/>
	</action>

	<action name="generateLinelistingReport"
		class="org.hisp.dhis.reports.linelisting.action.GenerateLinelistingReportAnalyserResultAction">
        <result name="success" type="stream">
            <param name="contentType">application/vnd.ms-excel</param>
            <param name="inputName">inputStream</param>
            <param name="contentDisposition">filename="${fileName}"</param>
            <param name="bufferSize">1024</param>
        </result>
	</action>

		    
	<!-- Progress Reports -->
	<action name="progressReportAnalyser"
			class="org.hisp.dhis.reports.progress.action.GenerateProgressReportAnalyserFormAction">
			<result name="success" type="velocity">/main.vm</result>
			<param name="page">/dhis-web-reports/progressReportAnalysisFront.vm</param>			
			<param name="menu">/dhis-web-reports/menuWithTreeForPRA.vm</param>
			<param name="javascripts">../dhis-web-commons/calendar/calendar.js,../dhis-web-commons/calendar/calendar-lang.js,../dhis-web-commons/calendar/calendar-setup.js,../dhis-web-commons/ouwt/ouwt.js,../dhis-web-commons/lists/lists.js,javascript/reports.js,javascript/hashtable.js</param>
			<param name="stylesheets">css/StylesForTags.css</param>
		    <interceptor-ref name="organisationUnitTreeStack"/>
	</action>

	<action name="generateProgressReport"
		class="org.hisp.dhis.reports.progress.action.GenerateProgressAnalyserResultAction">
        <result name="success" type="stream">
            <param name="contentType">application/vnd.ms-excel</param>
            <param name="inputName">inputStream</param>
            <param name="contentDisposition">filename="${fileName}"</param>
            <param name="bufferSize">1024</param>
        </result>
	</action>

	<!-- Advanced Reports -->
	<action name="advancedReportAnalyser"
			class="org.hisp.dhis.reports.advanced.action.GenerateAdvancedReportsFormAction">
			<result name="success" type="velocity">/main.vm</result>
			<param name="page">/dhis-web-reports/advancedReportsForm.vm</param>			
			<param name="menu">/dhis-web-reports/menuWithTreeForAdvanced.vm</param>
			<param name="javascripts">../dhis-web-commons/calendar/calendar.js,../dhis-web-commons/calendar/calendar-lang.js,../dhis-web-commons/calendar/calendar-setup.js,../dhis-web-commons/ouwt/ouwt.js,../dhis-web-commons/lists/lists.js,javascript/reports.js,javascript/hashtable.js</param>
			<param name="stylesheets">css/StylesForTags.css</param>
		    <interceptor-ref name="organisationUnitTreeStack"/>
	</action>

	<action name="generateAdvancedReport"
		class="org.hisp.dhis.reports.advanced.action.GenerateAdvancedReportResultAction">
        <result name="success" type="stream">
            <param name="contentType">application/vnd.ms-excel</param>
            <param name="inputName">inputStream</param>
            <param name="contentDisposition">filename="${fileName}"</param>
            <param name="bufferSize">1024</param>
        </result>
	</action>
	  
	<!-- Grading Reports -->
	<action name="gradingReportAnalyser"
			class="org.hisp.dhis.reports.grading.action.GenerateGradingReportFormAction">
			<result name="success" type="velocity">/main.vm</result>
			<param name="page">/dhis-web-reports/gradingReportForm.vm</param>			
			<param name="menu">/dhis-web-reports/menuWithTreeForGA.vm</param>
			<param name="javascripts">../dhis-web-commons/calendar/calendar.js,../dhis-web-commons/calendar/calendar-lang.js,../dhis-web-commons/calendar/calendar-setup.js,../dhis-web-commons/ouwt/ouwt.js,../dhis-web-commons/lists/lists.js,javascript/hashtable.js,javascript/grading.js</param>
			<param name="stylesheets">css/StylesForTags.css</param>
		    <interceptor-ref name="organisationUnitTreeStack"/>
	</action>

	<action name="generateGradingReport"
		class="org.hisp.dhis.reports.grading.action.GenerateGradingReportResultAction">
        <result name="success" type="stream">
            <param name="contentType">application/vnd.ms-excel</param>
            <param name="inputName">inputStream</param>
            <param name="contentDisposition">filename="${fileName}"</param>
            <param name="bufferSize">1024</param>
        </result>
	</action>

	<action name="generateImmChildGradingReport"
		class="org.hisp.dhis.reports.grading.action.GenerateImmChildGradingReportAction">
        <result name="success" type="stream">
            <param name="contentType">application/vnd.ms-excel</param>
            <param name="inputName">inputStream</param>
            <param name="contentDisposition">filename="${fileName}"</param>
            <param name="bufferSize">1024</param>
        </result>
	</action>
	  
	<action name="generateSelChildGradingReport"
		class="org.hisp.dhis.reports.grading.action.GenerateSelChildGradingReportAction">
        <result name="success" type="stream">
            <param name="contentType">application/vnd.ms-excel</param>
            <param name="inputName">inputStream</param>
            <param name="contentDisposition">filename="${fileName}"</param>
            <param name="bufferSize">1024</param>
        </result>
	</action>
	  
	<action name="gradingAbstration"
			class="org.hisp.dhis.reports.grading.action.GradingAbstrationFormAction">
			<result name="success" type="velocity">/main.vm</result>
			<param name="page">/dhis-web-reports/gradingAbstractionForm.vm</param>			
			<param name="menu">/dhis-web-reports/menuWithTreeForGAR.vm</param>
			<param name="javascripts">../dhis-web-commons/calendar/calendar.js,../dhis-web-commons/calendar/calendar-lang.js,../dhis-web-commons/calendar/calendar-setup.js,../dhis-web-commons/ouwt/ouwt.js,../dhis-web-commons/lists/lists.js,javascript/hashtable.js</param>
			<param name="stylesheets">css/StylesForTags.css</param>
		    <interceptor-ref name="organisationUnitTreeStack"/>
	</action>

	<action name="gradingAbstractionResult"
		class="org.hisp.dhis.reports.grading.action.GradingAbstractionResultAction">
        <result name="success" type="stream">
            <param name="contentType">application/vnd.ms-excel</param>
            <param name="inputName">inputStream</param>
            <param name="contentDisposition">filename="${fileName}"</param>
            <param name="bufferSize">1024</param>
        </result>
	</action>
	  
	<!-- Twenty Point Reports -->
	<action name="TwentyPointReportsAnalyser"
		class="org.hisp.dhis.reports.TwentyPoint.action.GenerateTwentyPointReportsFromAction">
			<result name="success" type="velocity">/main.vm</result>
			<param name="page">/dhis-web-reports/TwentyPointReportsForm.vm</param>			
			<param name="menu">/dhis-web-reports/menuWithTreeForTwentyPoint.vm</param>
			<param name="javascripts">../dhis-web-commons/calendar/calendar.js,../dhis-web-commons/calendar/calendar-lang.js,../dhis-web-commons/calendar/calendar-setup.js,../dhis-web-commons/ouwt/ouwt.js,../dhis-web-commons/lists/lists.js,javascript/reports.js,javascript/hashtable.js</param>
			<param name="stylesheets">css/StylesForTags.css</param>
		    <interceptor-ref name="organisationUnitTreeStack"/>
	</action>

	<action name="generateTwentyPointReports"
		class="org.hisp.dhis.reports.TwentyPoint.action.GenerateTwentyPointReportsResultAction">
        <result name="success" type="stream">
            <param name="contentType">application/vnd.ms-excel</param>
            <param name="inputName">inputStream</param>
            <param name="contentDisposition">filename="${fileName}"</param>
            <param name="bufferSize">1024</param>
        </result>
	</action>
	  	  
	   	  	 
	<!-- User Population -->
	<action name="populateUsers"
			class="org.hisp.dhis.reports.action.AddUserAction">
		<result name="success" type="velocity">/main.vm</result>
			<param name="page">/dhis-web-reports/welcome.vm</param>			
			<param name="menu">/dhis-web-reports/menu.vm</param>
			<param name="javascripts">../dhis-web-commons/calendar/calendar.js,../dhis-web-commons/calendar/calendar-lang.js,../dhis-web-commons/calendar/calendar-setup.js,../dhis-web-commons/ouwt/ouwt.js,../dhis-web-commons/lists/lists.js,javascript/reports.js,javascript/hashtable.js</param>
			<param name="stylesheets">css/StylesForTags.css</param>
		    <interceptor-ref name="organisationUnitTreeStack"/>
	</action>
	  
	   	    			  
	<!-- AJAX Requests -->
	<action name="getDataElements"
      class="org.hisp.dhis.reports.action.GetDataElementsAction">
      <result name="success" type="velocity">/dhis-web-reports/responseDataElement.vm</result>
      <interceptor-ref name="transactionStack"/>
      <param name="onExceptionReturn">plainTextError</param>
    </action>
	  	  
	<action name="getPeriods" class="org.hisp.dhis.reports.action.GetPeriodsAction">
	    <result name="success" type="velocity">/dhis-web-reports/responsePeriod.vm</result>
        <interceptor-ref name="transactionStack"/>
        <param name="onExceptionReturn">plainTextError</param>
	</action>
	  
	<action name="getReports" class="org.hisp.dhis.reports.action.GetReportsAction">
	    <result name="success" type="velocity">/dhis-web-reports/responseReport.vm</result>
		<param name="javascripts">../dhis-web-commons/ouwt/ouwt.js,../dhis-web-commons/lists/lists.js,javascript/reports.js,javascript/hashtable.js</param>
        <interceptor-ref name="transactionStack"/>
        <param name="onExceptionReturn">plainTextError</param>
	</action>

	<action name="getProgressReports" class="org.hisp.dhis.reports.action.GetProgressReportsAction">
	    <result name="success" type="velocity">/dhis-web-reports/responseReport.vm</result>
		<param name="javascripts">../dhis-web-commons/ouwt/ouwt.js,../dhis-web-commons/lists/lists.js,javascript/reports.js,javascript/hashtable.js</param>
        <interceptor-ref name="transactionStack"/>
        <param name="onExceptionReturn">plainTextError</param>
	</action>

    <action name="getOrgUnitGroups"
      class="org.hisp.dhis.reports.action.GetOrgUnitGroupsAction">
      <result name="success" type="velocity">/dhis-web-reports/responseOrgUnitGroup.vm</result>
      <interceptor-ref name="transactionStack"/>
      <param name="onExceptionReturn">plainTextError</param>
    </action>
	  	  
    <action name="getOrgUnitDetails"
      class="org.hisp.dhis.reports.action.GetOrgUnitsAction">
      <result name="success" type="velocity">/dhis-web-reports/responseOrgUnit.vm</result>
      <interceptor-ref name="transactionStack"/>
      <param name="onExceptionReturn">plainTextError</param>
    </action>
	  	  
	<!-- pivot table -->	   
	         
	<action name="displayPivotTableForm" class="org.hisp.dhis.reports.action.NoAction">
      <result name="success" type="velocity">/main.vm</result>
      <param name="page">/dhis-web-reports/viewPivotTableForm.vm</param>
      <param name="menu">/dhis-web-reports/menu.vm</param>
      <param name="javascripts">../dhis-web-commons/calendar/calendar.js,../dhis-web-commons/calendar/calendar-lang.js,../dhis-web-commons/calendar/calendar-setup.js,javascript/pivot.js,javascript/criteria.js</param>
    </action>
    
    <action name="getPivotTable" class="org.hisp.dhis.reports.pivottable.action.GetPivotTableAction">
      <result name="success" type="velocity-json">/dhis-web-reports/responsePivotTable.vm</result>
      <param name="onExceptionReturn">plainTextError</param>
    </action>
    
    <action name="getOrganisationUnitLevels" class="org.hisp.dhis.reports.pivottable.action.GetOrganisationUnitLevelsAction">
      <result name="success" type="velocity-json">/dhis-web-reports/responseOrganisationUnitLevel.vm</result>
      <param name="onExceptionReturn">plainTextError</param>
    </action>
    
    <action name="getPeriodTypes" class="org.hisp.dhis.reports.pivottable.action.GetPeriodTypesAction">
      <result name="success" type="velocity-json">/dhis-web-reports/responsePeriodType.vm</result>
      <param name="onExceptionReturn">plainTextError</param>
    </action>
    
    <action name="getIndicatorGroups" class="org.hisp.dhis.reports.pivottable.action.GetIndicatorGroupsAction">
      <result name="success" type="velocity-json">/dhis-web-reports/responseIndicatorGroup.vm</result>
      <param name="onExceptionReturn">plainTextError</param>
    </action>
	
  </package>
</xwork>
